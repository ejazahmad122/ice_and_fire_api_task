# API Development Assignment

## Introduction


This is a short coding assignment, in which i implement a REST API that calls an external API service to get information about books. Additionally, I implement a simple CRUD (Create, Read, Update, Delete) API with a local database of your choice.


## Installation

Step 1: Setup virtual envrionment
```sh
# create virtual environment
python -m venv django_env
# activate virtual environment
source django_env/bin/activate
```

Step 2: Install requirements
```sh
pip install -r requirements
```

Step 3: Run migrations
```sh
python manage.py migrate
```
Step 4: Run the server
```sh
python manage.py runserver
```

## Usage

You can view the app here `http://127.0.0.1:8000/api/v1/books/`. This will display the interface generated by Django Rest Framework which you can use to perform all of the CRUD operations.

This interface is simply meant to demonstrate how a HTTP method on this URL will function and you can use this as a reference while integrating these APIs in your client application.

### Getting Data from ice and fire api

For getting data from ice and fire api of a specific book you need to go GET:`http://127.0.0.1:8000/api/external-books/nameOfBook` where nameOfBook could be any name of the book that you want to be searched

### Create a Book Recoed

For creating a book record go to the url POST:`http://127.0.0.1:8000/api/v1/books/` you have to provide data in content field like 

`{
    "name": "book name",
    "isbn": "123311332113",
    "country": "pak",
    "number_of_pages": 2000,
    "publisher": "jajji",
    "release_date": "2022-08-08",
    "author": "authorname"
}`

`{
headers: {
        'content-type': 'application/json',
        'Authorization': 'Bearer ' + accesstoken       
}
}`

### Read all a Book Records

For creating a book record go to the url GET:`http://127.0.0.1:8000/api/v1/books/` all records in data base will be shown

add this in header file
`{
headers: {
        'content-type': 'application/json',
        'Authorization': 'Bearer ' + accesstoken       
}
}`

### Update a Book Records

For updating a book record go to the url PATCH:`http://127.0.0.1:8000/api/v1/books/:id/` give the id of the book that you want to update and then give the updated data in the below mentioned form in content field

`{
    "name": "book name",
    "isbn": "123311332113",
    "country": "pak",
    "number_of_pages": 2000,
    "publisher": "jajji",
    "release_date": "2022-08-08",
    "author": "authorname"
}`

`{
headers: {
        'content-type': 'application/json',
        'Authorization': 'Bearer ' + accesstoken       
}
}`

### Delete a book record

for deleting a book record go to DELETE:`http://127.0.0.1:8000/api/v1/books/:id/` give the id of the book that you want to delete
add this in header file
`{
headers: {
        'content-type': 'application/json',
        'Authorization': 'Bearer ' + accesstoken       
}
}`


